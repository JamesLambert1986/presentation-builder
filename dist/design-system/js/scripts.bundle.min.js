/*!
  * iamKey v5.5.0
  * Copyright 2022-2024 iamproperty
  */
!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";var t=(t,e,a)=>e.split(/[\.\[\]\'\"]/).filter((t=>t)).reduce(((t,e)=>t?t[e]:a),t);class e{constructor(t){document.body.classList.contains("youtubeLoaded")?t.addEventListener("click",(function(t){for(var e=t.target;e&&e!=this;e=e.parentNode)if(e.matches("a")){t.preventDefault(),a(e);break}}),!1):this.loadScripts(t,this.createEmbed)}loadScripts(t){return new Promise(((e,r)=>{var o=new Image;o.onload=function(){var r=document.createElement("script");r.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(r,o),document.body.classList.add("youtubeLoaded"),e(!0),r.onload=()=>{t.addEventListener("click",(function(t){console.log("click"),t&&t.target instanceof HTMLElement&&t.target.closest("a")&&(t.preventDefault(),a(t.target.closest("a")))}),!1)}},o.onerror=function(){r(!1)},o.src="https://youtube.com/favicon.ico"}))}}var a=function(t){typeof window.player<"u"&&"function"==typeof window.player.pauseVideo&&window.player.pauseVideo();var e=t.getAttribute("data-id"),a=t.getAttribute("id");if(typeof a>"u"||null==a){var r=String.fromCharCode(65+Math.floor(26*Math.random()));a=r+Date.now(),t.setAttribute("id",a)}window.player=new YT.Player(a,{height:"100%",width:"100%",videoId:e,playerVars:{modestbranding:1,playsinline:1,rel:0,showinfo:0},events:{onReady:function(t){t.target.playVideo()},onStateChange:function(t){t.data!=YT.PlayerState.PLAYING||o||(document.getElementById(a).classList.add("player-ready"),o=!0)}}});var o=!1},r=t=>{var e=t.querySelector(".youtube-embed a");if(e&&a(e),t.classList.contains("dialog--multi")&&!t.querySelector(":scope > .steps")&&o(t),!t.querySelector(":scope > .mh-lg")&&!t.classList.contains("dialog--multi")){t.innerHTML='<div class="mh-lg">'.concat(t.innerHTML,"</div>");var r=t.querySelector(".mh-lg"),n=t.querySelector(".mh-lg :is(.h1,.h2,.h3,.h4,.h5,.h6)");if(n){var s=n.previousSibling;r.before(n),s&&n.before(s)}}t.querySelector(":scope > button:first-child")||t.insertAdjacentHTML("afterbegin",'<button class="dialog__close">Close</button>')},o=t=>{var e="",a=Array.from(t.querySelectorAll("fieldset[data-title]")),r=t.querySelector("form");a.forEach(((t,o)=>{e+='<button data-title="'.concat(t.getAttribute("data-title"),'" type="button" class="').concat(0==o?"active":"",'" tabindex="-1">').concat(t.getAttribute("data-title"),"</button>");var n=document.createElement("div");if(n.classList.add("btn--wrapper"),t.appendChild(n),0!=o&&(n.innerHTML+='<button data-title="'.concat(a[o-1].getAttribute("data-title"),'" class="btn btn-secondary mb-0" data-previous type="button">Previous</button>')),o!=a.length-1&&(n.innerHTML+='<button data-title="'.concat(a[o+1].getAttribute("data-title"),'" class="btn btn-primary mb-0" data-next type="button">Next</button>')),o==a.length-1)if(r&&r.querySelector(':scope > button[type="submit"]')){var s=r.querySelector(':scope > button[type="submit"]');s.classList.add("mb-0"),n.insertAdjacentElement("beforeend",s)}else n.innerHTML+='<button data-title="'.concat(a[o].getAttribute("data-title"),'" class="btn btn-primary mb-0" data-next type="submit">Submit</button>')})),t.insertAdjacentHTML("afterbegin",'<div class="steps bg-primary">'.concat(e,"</div>"));for(var o=Array.from(t.querySelectorAll("fieldset.was-validated")),n=0;n<o.length;n++){var s=o[n],i=s.getAttribute("data-title");if(s.querySelector(".is-invalid")){Array.from(t.querySelectorAll('[data-title="'.concat(i,'"]'))).forEach(((t,e)=>{t.classList.add("active")}));break}Array.from(t.querySelectorAll('[data-title="'.concat(i,'"]'))).forEach(((t,e)=>{t.classList.add("valid")}))}function c(e){var a=t.querySelector("fieldset.active")?t.querySelector("fieldset.active"):t.querySelector("fieldset[data-title]"),r=a.getAttribute("data-title"),o=!0;if(a.classList.add("was-validated"),Array.from(a.querySelectorAll("input")).forEach(((t,e)=>{t.checkValidity()||(o=!1)})),o?Array.from(t.querySelectorAll('[data-title="'.concat(r,'"]'))).forEach(((t,e)=>{t.classList.add("valid")})):Array.from(t.querySelectorAll('[data-title="'.concat(r,'"]'))).forEach(((t,e)=>{t.classList.remove("valid")})),o||!e.hasAttribute("data-next")){var n=t.querySelector('fieldset[data-title="'.concat(e.getAttribute("data-title"),'"]')),s=t.querySelector('.steps button[data-title="'.concat(e.getAttribute("data-title"),'"]'));Array.from(t.querySelectorAll("button")).forEach(((t,e)=>{t.classList.remove("active")})),Array.from(t.querySelectorAll("fieldset")).forEach(((t,e)=>{t.classList.remove("active")})),s.classList.add("active"),n.classList.add("active")}var i=Array.from(t.querySelectorAll("fieldset")).length,c=Array.from(t.querySelectorAll("fieldset.valid")).length;t.style.setProperty("--progress","".concat(c/(i-1)*100,"%"))}t.addEventListener("invalid",(function(t){t.preventDefault()}),!0),t.addEventListener("keydown",(t=>{if(t&&t.target instanceof HTMLElement&&t.target.closest("button")){var e=t.target.closest("button");13==t.keyCode&&"submit"!=e.getAttribute("type")&&(t.preventDefault(),c(e))}t&&t.target instanceof HTMLElement&&t.target.closest("input")&&(t.target.closest("input").classList.remove("is-invalid"),13==t.keyCode&&t.preventDefault())})),t.addEventListener("click",(t=>(t&&t.target instanceof HTMLElement&&t.target.closest('button[type="submit"]')?t.target.closest("form").classList.add("was-validated"):t&&t.target instanceof HTMLElement&&t.target.closest("button[data-title]")&&c(t.target.closest("button[data-title]")),null)))},n=(t,e)=>{(function(t){var e=new TextEncoder("utf-8").encode(t);return crypto.subtle.digest("SHA-1",e).then((function(t){for(var e=[],a=new DataView(t),r=0;r<a.byteLength;r+=4){var o="00000000",n=(o+a.getUint32(r).toString(16)).slice(-o.length);e.push(n)}return e.join("")}))})(t).then((function(t){var a=new XMLHttpRequest;a.addEventListener("load",(function(){var a=this.responseText.split("\n"),r=t.slice(5).toUpperCase(),o=!1;for(var n in a)if(a[n].substring(0,35)==r){o=!0;break}var s=new CustomEvent("hibpCheck",{detail:o});e.dispatchEvent(s)})),a.open("GET","https://api.pwnedpasswords.com/range/"+t.substr(0,5)),a.send()}))},s=t=>{function e(){if(Array.from(document.querySelectorAll("input[maxlength]")).forEach(((t,e)=>{t.parentElement,i(t)})),Array.from(document.querySelectorAll("label input")).forEach(((t,e)=>{!t.closest("label").querySelector(".optional-text")&&!t.hasAttribute("required")&&t.insertAdjacentHTML("beforebegin",'<span class="optional-text"></span>')})),document.querySelector('input[type="date"]')){let e=function(t){var e=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return"".concat(e,"-").concat(a,"-").concat(r)};var t=new Date;Array.from(document.querySelectorAll('input[type="date"]')).forEach(((a,r)=>{var o=t;if(a.hasAttribute("data-start")&&(o.setDate(o.getDate()+parseInt(a.getAttribute("data-start"))),a.setAttribute("min",e(o))),a.hasAttribute("data-period")){var n=parseInt(a.getAttribute("data-period")),s=new Date;s.setDate(o.getDate()+n),a.setAttribute("max",e(s))}if(a.hasAttribute("data-allowed-days")){var i=JSON.parse("[".concat(a.getAttribute("data-allowed-days"),"]"));a.addEventListener("input",(function(t){var e=new Date(this.value).getUTCDay();i.includes(e)?a.setCustomValidity(""):a.setCustomValidity("That day of the week is not allowed")}))}}))}}"complete"===document.readyState&&e(),document.onreadystatechange=()=>{"complete"===document.readyState&&e()},t.addEventListener("input",(t=>{if(t&&t.target instanceof HTMLElement&&t.target.closest("input,textarea,select")){var e=t.target.closest("input,textarea,select");e.parentElement,e.hasAttribute("type")&&"color"==e.getAttribute("type")&&(e.nextElementSibling.value=e.value),e.hasAttribute("maxlength")&&e.nextElementSibling&&e.nextElementSibling.setAttribute("data-count",e.value.length),e.hasAttribute("data-strength-checker")&&l(e)}})),t.addEventListener("change",(t=>{if(t&&t.target instanceof HTMLElement&&t.target.closest("select")){var e=t.target.closest("select");if(e.hasAttribute("data-change-type")&&e.hasAttribute("data-input")){var a=document.getElementById(e.getAttribute("data-input")),r=e.value;c(a,r)}}if(t&&t.target instanceof HTMLElement&&t.target.closest('dialog [type="radio"]')){var o=t.target.closest("dialog");t.target.closest('dialog [type="radio"]'),Array.from(o.querySelectorAll('[type="radio"][autofocus]')).forEach(((t,e)=>{t.removeAttribute("autofocus")})),Array.from(o.querySelectorAll('[type="radio"]:checked')).forEach(((t,e)=>{t.setAttribute("autofocus",!0)}))}})),t.addEventListener("click",(t=>{if(t&&t.target instanceof HTMLElement&&t.target.closest("[data-change-type][data-input]:not(select)")){var e=t.target.closest("[data-change-type]"),a=document.getElementById(e.getAttribute("data-input")),r=e.getAttribute("data-change-type");if(e.setAttribute("data-change-type",a.getAttribute("type")),c(a,r),e.hasAttribute("data-alt-class")){var o=e.getAttribute("data-alt-class");e.setAttribute("data-alt-class",e.getAttribute("class")),e.setAttribute("class",o)}}}))},i=t=>{var e=t.parentElement,a=t.getAttribute("maxlength");e.style.setProperty("--maxlength",a);var r=t.nextElementSibling;(!r||r&&r.classList.contains("invalid-feedback"))&&(r=document.createElement("span"),e.insertBefore(r,t.nextSibling)),r.setAttribute("data-count",t.value.length)},c=(t,e)=>{t.hasAttribute("type")&&"password"==t.getAttribute("type")&&t.setAttribute("data-password-type",!0),t.setAttribute("type",e)},l=function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"no",r=document.getElementById(e.getAttribute("data-strength-checker")),o=e.value,s=e.hasAttribute("minlength")?e.getAttribute("minlength"):12,i=1,c="";if(o.match(/(?=.*[0-9])/)&&(i+=1),o.match(/(?=.*[!,%,&,#,$,^,*,?,_,~,<,>,])/)&&(i+=1),o.match(/(?=.*[a-z])/)&&(i+=1),o.match(/(?=.*[A-Z])/)&&(i+=1),o.length<s&&(i=1,c="(must be at least ".concat(s," characters.)")),i>=3&&"no"==a){let a=function(e,r){e.detail?t(r,"danger"):t(r,"success"),r.removeEventListener("hibpCheck",a)};n(o,e),e.addEventListener("hibpCheck",(function(t){a(t,e)}))}else i>=3&&"danger"==a&&(i=3,c="(this password is very common)");r&&(i<=3?r.classList.add("invalid-feedback"):r.classList.remove("invalid-feedback"),r.setAttribute("data-strength",i),r.innerHTML="Password strength: ".concat(["Very weak","Weak","Average","Strong","Very strong"][i-1]," ").concat(c))};window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"customElementRegistered",element:"header"});class d extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"});var t=document.body.hasAttribute("data-assets-location")?document.body.getAttribute("data-assets-location"):"/assets",e=document.body.hasAttribute("data-core-css")?document.body.getAttribute("data-core-css"):"".concat(t,"/css/core.min.css"),a='@import "'.concat(t,'/css/components/header.css";'),r=document.createElement("template");r.innerHTML='\n    <style>\n    @import "'.concat(e,'";\n    ').concat(a,"\n    ").concat(this.hasAttribute("css")?'@import "'.concat(this.getAttribute("css"),'";'):"",'\n    </style>\n    <div class="header-banner">\n      <picture>\n        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="" lazy="" />\n      </picture>\n      <div class="container">\n        <slot></slot>\n      </div>\n    </div>\n    '),this.shadowRoot.appendChild(r.content.cloneNode(!0))}connectedCallback(){this.classList.add("bg-primary");var t=this.shadowRoot.querySelector("picture"),e=this.shadowRoot.querySelector("picture img");this.hasAttribute("image")?e.setAttribute("src",this.getAttribute("image")):t.remove()}}window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"customElementRegistered",element:"accordion"});class u extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"});var t=document.body.hasAttribute("data-assets-location")?document.body.getAttribute("data-assets-location"):"/assets",e=document.body.hasAttribute("data-core-css")?document.body.getAttribute("data-core-css"):"".concat(t,"/css/core.min.css"),a=document.createElement("template");a.innerHTML='\n    <style>\n    @import "'.concat(e,'";\n\n    :host {\n      margin-bottom: 2.5rem;\n      display: block;\n    }\n    \n    ::slotted(details) {\n      --border-radius: 0!important;\n      padding-bottom: 0!important;\n    }    \n    </style>\n      <slot></slot>\n    '),this.shadowRoot.appendChild(a.content.cloneNode(!0))}connectedCallback(){if(!this.classList.contains("accordion--keep-open")){var t=this.querySelectorAll(":scope > details");t.forEach((e=>{e.addEventListener("toggle",(()=>{t.forEach((t=>{t!==e&&e.hasAttribute("open")&&t.removeAttribute("open")}))}))}))}}}window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"customElementRegistered",element:"tabs"});class h extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"});var t=document.body.hasAttribute("data-assets-location")?document.body.getAttribute("data-assets-location"):"/assets",e=document.body.hasAttribute("data-core-css")?document.body.getAttribute("data-core-css"):"".concat(t,"/css/core.min.css"),a='@import "'.concat(t,'/css/components/tabs.css";'),r=document.createElement("template");r.innerHTML='\n    <style>\n    @import "'.concat(e,'";\n    ').concat(a,"\n\n    :host(.admin-panel){\n      display: contents!important;\n    }\n    \n    ").concat(this.hasAttribute("css")?'@import "'.concat(this.getAttribute("css"),'";'):"",'\n    </style>\n    <div class="tabs">\n      <div class="tabs__links__wrapper">\n        <div class="tabs__links"></div>\n      </div>\n      <slot></slot>\n    </div>\n    '),this.shadowRoot.appendChild(r.content.cloneNode(!0))}connectedCallback(){var t=this.classList.toString().replace("container","");this.shadowRoot.querySelector(".tabs").setAttribute("class","tabs ".concat(t)),function(t){(function(t){t.querySelectorAll(":scope > details");var e=t.querySelectorAll(":scope > details, :scope > a");t.querySelectorAll(":scope > details > summary");var a=t.querySelector(":scope > .tabs__links");if(t.shadowRoot&&t.shadowRoot.querySelector(".tabs__links")&&(a=t.shadowRoot.querySelector(".tabs__links")),!a){(a=document.createElement("div")).classList.add("tabs__links");var r=document.createElement("div");r.classList.add("tabs__links__wrapper"),r.prepend(a),t.prepend(r)}var o=0;e.forEach(((t,e)=>{var r=document.createElement("button");if(t.matches("details")){var n=t.querySelector(":scope > summary"),s=n.classList.contains("disabled");n.classList.add("visually-hidden"),t.hasAttribute("id")&&r.setAttribute("data-id","".concat(t.getAttribute("id"))),t.hasAttribute("open")&&r.setAttribute("aria-pressed",!0),r.innerHTML="".concat(n.innerText),r.classList.add("link"),r.setAttribute("data-index",o),t.setAttribute("tabindex","-1"),s&&r.classList.add("disabled"),o++}else t.matches("a")&&(r=t);r.classList.add("link"),a.appendChild(r)}))})(t),function(t){var e=t.querySelectorAll(":scope > details"),a=t.querySelectorAll(":scope > details > summary"),r=t.querySelectorAll(":scope .tabs__links > button");t.shadowRoot&&(r=t.shadowRoot.querySelectorAll(".tabs__links > button")),r.forEach((t=>{t.addEventListener("click",(a=>{if(a.preventDefault(),t.classList.contains("disabled"))return!1;r.forEach((e=>{var a=e==t;e.setAttribute("aria-pressed",a)})),e.forEach(((e,a)=>{var r=t.getAttribute("data-index")==a;r?e.setAttribute("open",r):e.removeAttribute("open")})),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"openTab",tabTitle:t.textContent})}))})),a.forEach(((t,e)=>{t.addEventListener("click",(t=>{t.preventDefault(),r[e].click()}))}))}(t),function(t){if(!t.querySelector(":scope > details"))return!1;var e=t.querySelectorAll(":scope > details"),a=t.shadowRoot.querySelectorAll(".tabs__links > button");location.hash&&t.shadowRoot.querySelector('.tabs__links [data-id="'.concat(location.hash.replace("#",""),'"]'))?(t.shadowRoot.querySelector('[data-id="'.concat(location.hash.replace("#",""),'"]')).setAttribute("aria-pressed",!0),t.querySelector('details[id="'.concat(location.hash.replace("#",""),'"]')).setAttribute("open",!0)):t.querySelector("details[open]")||(e[0].setAttribute("open",!0),a[0].setAttribute("aria-pressed",!0))}(t)}(this)}}var m=t=>{var e=Array.from(t.querySelectorAll("thead th"));Array.from(t.querySelectorAll("tbody tr")).forEach(((t,a)=>{var r=Array.from(t.querySelectorAll("th, td")),o=["0","low","medium","high","unknown","n/a","pending","verified","due","overdue","incomplete","complete","completed","approval required","upcoming","requires approval","to do","on track","not started","warning","error"];r.forEach(((t,a)=>{var r=e[a];if(typeof r<"u"){var n=document.createElement("div");n.innerHTML=r.innerHTML;var s=n.textContent||n.innerText||"";t.setAttribute("data-label",s),r.hasAttribute("data-td-class")&&t.setAttribute("class",r.getAttribute("data-td-class")),r.hasAttribute("data-format")&&(t.setAttribute("data-format",r.getAttribute("data-format")),t.innerHTML=w(r.getAttribute("data-format"),t.textContent.trim())),o.includes(t.textContent.trim().toLowerCase())&&t.setAttribute("data-content",t.textContent.trim().toLowerCase())}}))}))},p=(t,e)=>{var a=e.querySelector("[data-search]");if(!a)return!1;var r=a.getAttribute("id"),o=a.getAttribute("data-search").split(","),n=a.parentNode,s={};o.forEach(((e,a)=>{Array.from(t.querySelectorAll('td[data-label="'+e.trim()+'"]')).forEach(((t,e)=>{t.querySelector(".td__content")?s[t.querySelector(".td__content").textContent]=t.querySelector(".td__content").textContent:s[t.textContent]=t.textContent}))})),a.setAttribute("list","".concat(r,"_list")),a.setAttribute("autocomplete","off"),n.querySelector("datalist")||(n.innerHTML+='<datalist id="'.concat(r,'_list"></datalist>')),n.querySelector("datalist").innerHTML="".concat(Object.keys(s).map((t=>'<option value="'.concat(t,'"></option>'))).join(""))},b=(t,e,a)=>{if(e.getAttribute("data-ajax"))return!1;var r=t.querySelector("tbody"),o=e.querySelector("[data-sort]"),n=o.querySelector("option:nth-child(".concat(o.selectedIndex+1,")")),s=n.getAttribute("data-sort"),i=n.getAttribute("data-order"),c=n.getAttribute("data-format");if(!s)return r.innerHTML=a.innerHTML,m(t),!1;var l=[];["asc","desc","descending"].includes(i)||(l=i.split(","));var d=[];Array.from(r.querySelectorAll("tr")).forEach(((t,e)=>{var a=t.querySelector('td[data-label="'+s+'"], th[data-label="'+s+'"]').textContent.trim();t.querySelector('[data-label="'+s+'"] .td__content')&&(a=t.querySelector('[data-label="'+s+'"] .td__content').textContent.trim()),l.length&&l.includes(a)&&(a=l.indexOf(a)),function(t){return"string"==typeof t&&!isNaN(t)&&!isNaN(parseFloat(t))}(a)&&(a=((t,e)=>String(t).padStart(10,"0"))(a)),c&&"date"==c&&(a=new Date(a));var r={index:a,row:t};d.push(r)})),d.sort(((t,e)=>t.index>e.index?1:-1)),("descending"==i||"desc"==i)&&(d=d.reverse());var u="";d.forEach(((t,e)=>{u+=t.row.outerHTML})),r.innerHTML=u},f=(t,e,a)=>{t.classList.remove("table--filtered");var r=v(e),o=[],n=0,s=e.querySelector("[data-pagination]")?parseInt(e.querySelector("[data-pagination]").value):1,i=e.querySelector("[data-show]")?parseInt(e.querySelector("[data-show]").value):15;if(Array.from(t.querySelectorAll("tbody tr")).forEach(((t,e)=>{t.classList.remove("filtered"),t.classList.remove("filtered--matched"),t.classList.remove("filtered--show"),t.removeAttribute("data-filtered-by")})),e.querySelector("[data-search]")){var c=e.querySelector("[data-search]");e.querySelector("[data-search]").getAttribute("data-search").split(",").forEach(((t,e)=>{o.push({column:"".concat(t.trim()),value:"".concat(c.value)})}))}Array.from(e.querySelectorAll("[data-filter-count]")).forEach(((t,e)=>{t.innerHTML="",t.parentNode.classList.remove("hover")}));var l=0;Object.values(r).forEach(((t,e)=>{"object"==typeof t&&Object.values(t).length?l+=Object.values(t).length:l++})),l&&Array.from(e.querySelectorAll("[data-filter-count]")).forEach(((t,e)=>{t.innerHTML+="(".concat(l,")"),t.parentNode.classList.add("hover")})),t.classList.add("table--filtered");var d=function(e,a){Array.from(t.querySelectorAll("tbody tr:not(.filtered)")).forEach(((t,r)=>{var o=!1;a.forEach(((a,r)=>{var n=t.querySelector('[data-label="'.concat(e,'"]'));if(a&&"$today"==a)a=w("date",new Date);else if(a&&"$yesterday"==a){var s=new Date;s.setDate(s.getDate()-1),a=w("date",s)}else if(!a||"$thisWeek"!=a&&"$lastWeek"!=a){if(a&&"$thisMonth"==a){var i=new Date,c=i.getFullYear(),l=i.getMonth(),d=new Date(c,l,1),u=new Date(c,l+1,0),h=new Date(n.textContent.toLowerCase());d.setHours(0,0,0,0),u.setHours(0,0,0,0),h.setHours(0,0,0,0),o=h>=d&&h<=u}else if(a&&"$lastMonth"==a){var m=new Date,p=m.getFullYear(),b=m.getMonth(),f=new Date(p,b-1,1),g=new Date(p,b,0),y=new Date(n.textContent.toLowerCase());f.setHours(0,0,0,0),g.setHours(0,0,0,0),y.setHours(0,0,0,0),o=y>=f&&y<=g}}else{var v=new Date,A=new Date(v.setDate(v.getDate()-(v.getDay()-1))),L=new Date(v.setDate(v.getDate()-v.getDay()+7)),E=new Date(n.textContent.toLowerCase());if(v.setHours(0,0,0,0),A.setHours(0,0,0,0),L.setHours(0,0,0,0),E.setHours(0,0,0,0),"$thisWeek"==a)o=E>=A&&E<=L;else{var S=new Date(A.setDate(A.getDate()-7)),q=new Date(L.setDate(L.getDate()-7));S.setHours(0,0,0,0),q.setHours(0,0,0,0),o=E>=S&&E<=q}}n&&n.textContent.toLowerCase().includes(a.toLowerCase())&&(o=!0)})),o||(t.classList.add("filtered"),t.setAttribute("data-filtered-by",e))}))};for(var[u,h]of Object.entries(r))d(u,h);Array.from(t.querySelectorAll("tbody tr:not(.filtered)")).forEach(((t,e)=>{var a=!(o.length>0&&o[0].value.length>=3);o.forEach(((e,r)=>{var o=t.querySelector('[data-label="'.concat(e.column,'"]'));o&&e.value.length>=3&&o.textContent.toLowerCase().includes(e.value.toLowerCase())&&(a=!0)})),a||t.classList.add("filtered")})),Array.from(t.querySelectorAll("tbody tr:not(.filtered")).forEach(((t,e)=>{n++,t.classList.add("filtered--matched"),Math.ceil(n/i)==parseInt(s)&&t.classList.add("filtered--show")})),a&&(a.setAttribute("data-total",n),a.setAttribute("data-show",i),a.setAttribute("data-page",s))},g=(t,e,a)=>{Array.from(e.querySelectorAll("[data-query]")).forEach(((e,r)=>{var o=e.getAttribute("data-query"),n=0;if("total"==o)a.hasAttribute("data-total")?n=a.getAttribute("data-total"):(t.classList.contains("table--filtered"),n=t.querySelectorAll("tbody tr").length);else if(!o.includes(" == ")&&o.includes(" & ")){var s=o.split(" & "),i="";s.forEach((t=>{i+=':not([data-filtered-by="'.concat(t,'"])')})),n=Array.from(t.querySelectorAll("tbody tr".concat(i))).length}else if(o.includes(" == "))if(o.includes(" && ")){var c=o.split(" && ");n=Array.from(t.querySelectorAll("tbody tr:not(.filtered)")).filter((function(t){var e=!0;for(var[a,r]of Object.entries(c)){var o=r.split(" == ");(!t.querySelector('td[data-label="'.concat(o[0],'"]'))||t.querySelector('td[data-label="'.concat(o[0],'"]')).textContent!="".concat(o[1]))&&(e=!1)}return e})).length}else{var l=o.split(" == ");n=Array.from(t.querySelectorAll('tbody tr.filtered--matched td[data-label="'.concat(l[0],'"], tbody tr[data-filtered-by="').concat(l[0],'"] td[data-label="').concat(l[0],'"]'))).filter((function(t){return t.textContent===l[1]})).length}else n=Array.from(t.querySelectorAll('tbody tr:not([data-filtered-by="'.concat(o,'"])'))).length;e.hasAttribute("data-total")?e.setAttribute("data-total",n):e.innerHTML=n}))},y=function(t,e,a,r){if(m(t),((t,e)=>{if(e.classList.contains("table--fullwidth")&&!e.hasAttribute("data-expandable")||t.querySelectorAll("thead tr th").length<4&&!e.hasAttribute("data-expandable"))return!1;Array.from(t.querySelectorAll("thead tr")).forEach(((e,a)=>{t.querySelectorAll("thead tr th.expand-button-heading").length||e.insertAdjacentHTML("afterbegin",'<th class="th--fixed expand-button-heading"></th>')})),Array.from(t.querySelectorAll("tbody tr")).forEach(((t,e)=>{var a="full"===t.getAttribute("data-view")?"aria-expanded":"";t.insertAdjacentHTML("afterbegin",'<td class="td--fixed td--expand"><button class="btn btn-compact btn-secondary" data-expand-button '.concat(a,">Expand</button></td>"))}))})(t,r),g(t,e,r),r&&r.classList.contains("table--cta")){let e=function(){Array.from(t.querySelectorAll("tr")).forEach(((t,e)=>{var a=t.offsetHeight;t.style.setProperty("--row-height","".concat(a,"px"))}))};var o=(t=>{var e=0;return Array.from(t.querySelectorAll("tbody tr")).forEach(((t,a)=>{var r=window.getComputedStyle(document.querySelector("html")),o=t.querySelector(":scope > *:last-child > *:first-child");if(o){o.classList.add("text-nowrap");var n=o.offsetWidth/parseFloat(r.fontSize);e=e>(n+=1.7)?e:n}})),e})(t);r.style.setProperty("--cta-width","".concat(o,"rem")),new ResizeObserver(e).observe(t)}},v=function(t){var e=new Object;return Array.from(t.querySelectorAll("[data-filter]")).forEach(((t,a)=>{if(("radio"!=t.type||t.checked)&&("checkbox"!=t.type||t.checked)&&t&&t.value){var r=t.getAttribute("data-filter");e[r]||(e[r]=new Array),e[r].push(t.value)}})),e},A=function(e,a,r,o){return function(t,e,a,r){return new(a||(a=Promise))((function(o,n){function s(t){try{c(r.next(t))}catch(t){n(t)}}function i(t){try{c(r.throw(t))}catch(t){n(t)}}function c(t){t.done?o(t.value):function(t){return t instanceof a?t:new a((function(e){e(t)}))}(t.value).then(s,i)}c((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function*(){var n=new FormData(a),s=new URLSearchParams(n).toString(),i=e.querySelectorAll("thead tr th:not(.expand-button-heading)"),c=e.querySelector("tbody"),l=a.getAttribute("data-ajax");o.classList.add("table--loading");var d=v(a);Array.from(a.querySelectorAll("[data-filter-count]")).forEach(((t,e)=>{t.innerHTML="",t.parentNode.classList.remove("hover")}));var u=0;Object.values(d).forEach(((t,e)=>{"object"==typeof t&&Object.values(t).length?u+=Object.values(t).length:u++})),u&&Array.from(a.querySelectorAll("[data-filter-count]")).forEach(((t,e)=>{t.innerHTML+="(".concat(u,")"),t.parentNode.classList.add("hover")})),window.controller||(window.controller=[]),window.controller[l]&&window.controller[l].abort(),window.controller[l]=new AbortController;var{signal:h}=controller[l];r.setAttribute("data-loading","true"),a.classList.add("processing");try{yield fetch(l+"?"+s,{signal:h,method:"get",credentials:"same-origin",headers:new Headers({"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"})}).then((t=>t.json())).then((n=>{var d=a.hasAttribute("data-schema")?a.getAttribute("data-schema"):"data",u=a.hasAttribute("data-schema-total")?a.getAttribute("data-schema-total"):"meta.total",h=a.hasAttribute("data-schema-page")?a.getAttribute("data-schema-page"):"meta.current_page",m=t(n,u,15),b=t(n,h,1),f=t(n,d),g=o.hasAttribute("data-empty-msg")?o.getAttribute("data-empty-msg"):"No results found";f?(c.innerHTML="",f.forEach(((e,a)=>{var r=document.createElement("tr");i.forEach(((a,o)=>{var n="",s=document.createElement("td");if(s.setAttribute("data-label",a.innerText),a.getAttribute("data-output")){var i=a.getAttribute("data-output");n=i.replace(new RegExp(/{(.*?)}/,"gm"),(function(a){return t(e,a.replace("{","").replace("}",""))}))}if(a.hasAttribute("data-output-array")){i=a.getAttribute("data-output");var c=t(e,i.replace("{","").replace("}",""));n="",c.forEach(((e,r)=>{var o=a.getAttribute("data-output-array"),s="";if(a.hasAttribute("data-output-array-property")&&a.hasAttribute("data-output-array-transform")){var i=t(e,a.getAttribute("data-output-array-property")),c=JSON.parse(a.getAttribute("data-output-array-transform"))[i];s=o.replace("{".concat(a.getAttribute("data-output-array-property"),"}"),c)}s=s.replace(new RegExp(/{(.*?)}/,"gm"),(function(a){return t(e,a.replace("{","").replace("}",""))})),n+=s}))}if(a.hasAttribute("data-transform")){var l=JSON.parse(a.getAttribute("data-transform"));!(n=l[n])&&a.hasAttribute("data-default")&&(n=a.getAttribute("data-default"))}s.innerHTML=n,r.appendChild(s)})),c.appendChild(r)})),p(e,a),o.setAttribute("data-total",parseInt(m)),o.setAttribute("data-page",parseInt(b)),y(e,a,0,o),Array.from(a.querySelectorAll("[data-ajax-query]")).forEach(((e,a)=>{var r=t(n,e.getAttribute("data-ajax-query"),"");e.hasAttribute("data-total")?e.setAttribute("data-total",r):e.innerHTML=r})),0==parseInt(m)&&(c.innerHTML='<tr><td colspan="100%"><span>'.concat(g,"</span></td></tr>")),o.classList.remove("table--loading"),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"Ajax table loaded",url:l,formData:s})):c.innerHTML='<tr><td colspan="100%"><span>Error loading table</span></td></tr>',r.removeAttribute("data-loading"),a.classList.remove("processing")}))}catch(t){console.log(t)}}))},w=(t,e)=>{switch(t){case"datetime":return new Date(e).toLocaleDateString("en-gb",{weekday:"short",year:"2-digit",month:"long",day:"numeric"})+" "+new Date(e).toLocaleTimeString("en-gb",{hour:"2-digit",minute:"2-digit"});case"date":return new Date(e).toLocaleDateString("en-gb",{year:"2-digit",month:"long",day:"numeric"});case"capitalise":return(t=>t.charAt(0).toUpperCase()+t.slice(1))(e)}};class L extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"});var t=document.body.hasAttribute("data-assets-location")?document.body.getAttribute("data-assets-location"):"/assets",e=document.body.hasAttribute("data-core-css")?document.body.getAttribute("data-core-css"):"".concat(t,"/css/core.min.css"),a='@import "'.concat(t,'/css/components/table.css";'),r='@import "'.concat(t,'/css/components/table.global.css";'),o=document.createElement("template");o.innerHTML='\n    <style>\n    @import "'.concat(e,'";\n    ').concat(a,"\n\n    :host(.mh-sm){\n      max-height: none!important;\n    }\n    :host(.mh-md){\n      max-height: none!important;\n    }\n    :host(.mh-lg){\n      max-height: none!important;\n    }\n    \n    ").concat(this.hasAttribute("css")?'@import "'.concat(this.getAttribute("css"),'";'):"",'\n    </style>\n    <slot name="before"></slot>\n    <div class="table--cta">\n    <div class="table__wrapper">\n      <slot></slot>\n    </div>\n    </div>\n    <iam-pagination class="pagination--table" ').concat(this.hasAttribute("data-page")?'data-page="'.concat(this.getAttribute("data-page"),'"'):""," ></iam-pagination>\n    "),this.shadowRoot.appendChild(o.content.cloneNode(!0)),document.getElementById("tableExtras")||document.head.insertAdjacentHTML("beforeend",'<style id="tableExtras">'.concat(r,"</style>"))}connectedCallback(){var t=new URLSearchParams(window.location.search);this.hasAttribute("data-total")||this.setAttribute("data-total",this.querySelectorAll("table tbody tr").length),this.hasAttribute("data-page")||this.setAttribute("data-page",t.has("page")?t.get("page"):1),this.hasAttribute("data-show")||this.setAttribute("data-show",t.has("show")?t.get("show"):15),this.hasAttribute("data-increment")||this.setAttribute("data-increment",this.getAttribute("data-show"));var e=this.classList.toString();if(e=(e=e.replace("table--cta","")).replace("table--loading",""),this.shadowRoot.querySelector(".table__wrapper").className+=" ".concat(e),this.querySelector(".actionbar__sticky")&&this.shadowRoot.querySelector(".table__wrapper").classList.add("has-actionbar"),this.table=this.querySelector("table"),this.savedTableBody=this.table.querySelector("tbody").cloneNode(!0),this.pagination=this.shadowRoot.querySelector("iam-pagination"),this.pagination.setAttribute("data-total",this.getAttribute("data-total")),this.pagination.setAttribute("data-page",this.getAttribute("data-page")),this.pagination.setAttribute("data-show",this.getAttribute("data-show")),this.pagination.setAttribute("data-increment",this.getAttribute("data-show")),this.hasAttribute("data-page-jump")&&this.pagination.setAttribute("data-page-jump","true"),this.hasAttribute("data-per-page")&&this.pagination.setAttribute("data-per-page","true"),this.hasAttribute("data-item-count")&&this.pagination.setAttribute("data-item-count","true"),this.hasAttribute("data-loading")&&this.pagination.setAttribute("data-loading","true"),this.classList.contains("table--fullwidth")&&this.pagination.setAttribute("data-minimal","true"),this.classList.contains("table--cta")||this.shadowRoot.querySelector(".table--cta").classList.remove("table--cta"),this.form=document.createElement("form"),this.hasAttribute("data-filterby")?this.form=document.querySelector("#".concat(this.getAttribute("data-filterby"))):this.table.parentNode.insertBefore(this.form,this.table.nextSibling),this.form.hasAttribute("data-ajax")&&this.table.classList.add("table--ajax"),p(this.table,this.form),this.form.querySelector("[data-pagination]")||(this.form.innerHTML+='<input name="page" type="hidden" value="'.concat(this.getAttribute("data-page"),'" data-pagination="true" />')),this.form.querySelector("[data-show]")||(this.form.innerHTML+='<input name="show" type="hidden" value="'.concat(this.getAttribute("data-show"),'" data-show="true" />')),this.table.addEventListener("click",(t=>{if(t&&t.target instanceof HTMLElement&&t.target.closest("[data-expand-button]")){var e=t.target.closest("[data-expand-button]"),a=e.closest("tr");e.toggleAttribute("aria-expanded"),"full"==a.getAttribute("data-view")?a.setAttribute("data-view","default"):a.setAttribute("data-view","full"),e.blur()}})),((t,e,a,r,o)=>{var n,s=function(o){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.classList.contains("processing"))return!1;if("submit"==o.type&&(e.classList.add("processing"),Array.from(e.querySelectorAll("[data-duplicate]")).forEach(((t,e)=>{var a=t.getAttribute("data-duplicate"),r=document.getElementById(a),o=document.querySelector('[for="'.concat(a,'"] iam-card'));if(r.checked!=t.checked)if(o){var n=new Event("click");o.dispatchEvent(n)}else r.checked=t.checked})),e.classList.remove("processing")),e.hasAttribute("data-ajax")?(n||(e.querySelector("[data-pagination]").value=1,r.setAttribute("data-page",1)),A(t,e,a,r)):e.hasAttribute("data-submit")?e.submit():(f(t,e,r),g(t,e)),e.hasAttribute("data-ajax-post")){var s=new FormData(e),i=new URLSearchParams(s).toString(),c=new XMLHttpRequest;c.open("GET","".concat(window.location.href,"?ajax=true&").concat(i)),c.send()}};e.addEventListener("keyup",(t=>{clearTimeout(n),t&&t.target instanceof HTMLElement&&t.target.closest("[data-search]")&&(n=setTimeout((function(){s(t)}),500))})),e.addEventListener("change",(a=>{clearTimeout(n),a&&a.target instanceof HTMLElement&&a.target.closest("[data-sort]")&&(e.hasAttribute("data-submit")||b(t,e,o),s(a)),a&&a.target instanceof HTMLElement&&a.target.closest("[data-search]")&&s(a),a&&a.target instanceof HTMLElement&&a.target.closest("[data-filter][data-no-ajax]")?(f(t,e,r),g(t,e)):(a&&a.target instanceof HTMLElement&&a.target.closest("[data-filter]")&&a.target.closest("form .dialog__wrapper > dialog")||a&&a.target instanceof HTMLElement&&a.target.closest("[data-filter]")&&!a.target.closest("form dialog"))&&s(a),a&&a.target instanceof HTMLElement&&a.target.closest("[data-show]")&&s(a),a&&a.target instanceof HTMLElement&&a.target.closest("[data-mimic]")&&s(a)})),e.addEventListener("click",(a=>{if(clearTimeout(n),a&&a.target instanceof HTMLElement&&a.target.closest('dialog button:not([type="button"])')&&a.target.closest('dialog button:not([type="button"])').closest("dialog").close(),a&&a.target instanceof HTMLElement&&a.target.closest(".dialog__close")&&(a.preventDefault(),a.stopPropagation()),a&&a.target instanceof HTMLElement&&a.target.closest("[data-clear]")){e.classList.add("processing"),Array.from(e.querySelectorAll(".applied-filters")).forEach(((t,e)=>{t.innerHTML=""}));for(var r=e.elements,i=0;i<r.length;i++)switch(r[i].type.toLowerCase()?r[i].type.toLowerCase():"text"){case"text":case"password":case"textarea":r[i].value="";break;case"radio":case"checkbox":if(r[i].checked){var c=r[i],l=c.getAttribute("id"),d=document.querySelector('[for="'.concat(l,'"'));if(d.querySelector("iam-card")){var u=d.querySelector("iam-card"),h=new Event("click");u.dispatchEvent(h)}c.checked=!1}break;case"select-one":case"select-multi":r[i].selectedIndex=-1}e.classList.remove("processing"),e.hasAttribute("data-submit")||b(t,e,o),s(a)}})),e.addEventListener("submit",(t=>{clearTimeout(n),e.hasAttribute("data-submit")||t.preventDefault(),s(t)})),e.addEventListener("force",(t=>{s(t)})),e.addEventListener("paginate",(t=>{s(t,!0)}));var i=[],c=[];Array.from(e.querySelectorAll("[data-mimic]")).forEach(((t,e)=>{var a=t.getAttribute("data-mimic");Array.from(document.querySelectorAll('[name="'.concat(a,'"]'))).forEach(((t,e)=>{var r=t.closest("form");i.includes(r)||i.push(r),c.includes(a)||c.push(a)}))})),i.forEach(((t,a)=>{var r=function(){var a=[],r=new FormData(t);for(var[o,n]of r)document.querySelector('[data-mimic="'.concat(o,'"]'))&&!a.includes(o)?(a.push(o),document.querySelector('[data-mimic="'.concat(o,'"]')).value=n):document.querySelector('[data-mimic="'.concat(o,'"]'))&&(document.querySelector('[data-mimic="'.concat(o,'"]')).value+=","+n);for(var s of a){var i=new Event("force");e.dispatchEvent(i)}for(var l of c)if(!r.has(l)&&t.querySelector('[name="'.concat(l,'"]'))){document.querySelector('[data-mimic="'.concat(l,'"]')).value="";var d=new Event("force");e.dispatchEvent(d)}};t.addEventListener("force",(t=>{r()})),t.addEventListener("change",(t=>{r()}))}))})(this.table,this.form,this.pagination,this,this.savedTableBody),function(t,e,a,r){a.addEventListener("update-page",(a=>{var o=e.querySelector("[data-pagination]"),n=a.detail.page;if(o.value=n,e.dispatchEvent(new Event("paginate")),r.setAttribute("data-page",n),t.hasAttribute("data-show-history")){var s=new URL(location);s.searchParams.set("page",n),history.pushState({type:"pagination",form:e.getAttribute("id"),page:n},"",s)}if(!r.hasAttribute("data-no-scroll")){var i=t.getBoundingClientRect().top+window.pageYOffset+-250;window.scrollTo({top:i,behavior:"smooth"})}})),a.addEventListener("update-show",(t=>{var a=e.querySelector("[data-show]"),o=t.detail.show;a.value=o,r.setAttribute("data-show",o),e.dispatchEvent(new Event("submit"))}))}(this.table,this.form,this.pagination,this),((t,e)=>{if(!t)return!1;t.addEventListener("click",(t=>{!function(t){for(var e=[],a=t.getElementsByTagName("tr"),r=0;r<a.length;r++){for(var o=a[r].querySelectorAll("td,th"),n=[],s=0;s<o.length;s++)n.push('"'.concat(o[s].textContent,'"'));e.push(n.join(","))}e=e.join("\n");var i=new Blob([e],{type:"text/csv"}),c=document.createElement("a");c.download="export.csv";var l=window.URL.createObjectURL(i);c.href=l,c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c)}(e)}))})(this.shadowRoot.querySelector("[data-export]"),this.table),this.form.getAttribute("data-ajax"))A(this.table,this.form,this.pagination,this);else{let t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Math.floor(Math.random()*Date.now()*(t+1))};if(this.querySelector("iam-actionbar[data-selectall]")){var a=this.querySelector("iam-actionbar[data-selectall]");Array.from(this.table.querySelectorAll("thead tr")).forEach(((t,e)=>{t.insertAdjacentHTML("afterbegin",'<th class="th--fixed"></th>')})),Array.from(this.table.querySelectorAll("tbody tr")).forEach(((e,a)=>{var r="row".concat(t(a));e.insertAdjacentHTML("afterbegin",'<td class="td--fixed selectrow"><input type="checkbox" name="row" id="'.concat(r,'"/><label for="').concat(r,'"><span class="visually-hidden">Select row</span></label></td>'))})),this.table.addEventListener("change",(t=>{if(t&&t.target instanceof HTMLElement&&t.target.closest(".selectrow input")){var e=this.table.querySelectorAll('.selectrow input[type="checkbox"]').length,r=this.table.querySelectorAll('.selectrow input[type="checkbox"]:checked').length;a.setAttribute("data-selected",e==r?"all":r)}})),a.addEventListener("selected",(t=>{"0"==t.detail.selected?Array.from(this.table.querySelectorAll('.selectrow input[type="checkbox"]')).forEach(((t,e)=>{t.checked=!1})):"all"==t.detail.selected&&Array.from(this.table.querySelectorAll('.selectrow input[type="checkbox"]')).forEach(((t,e)=>{t.checked=!0}))}))}var r=-1;Array.from(this.table.querySelectorAll("tbody tr")).forEach(((t,e)=>{if(t.querySelector(":scope > td > .dialog__wrapper")){var a=t.querySelector(":scope > td > .dialog__wrapper").parentNode;a.classList.add("td--fixed"),r=Array.from(a.parentNode.children).indexOf(a)}})),-1!=r&&(this.table.querySelector("thead tr th:nth-child(".concat(r+1,")")).classList.add("th--fixed"),Array.from(this.table.querySelectorAll("tbody tr td:nth-child(".concat(r+1,")"))).forEach(((t,e)=>{t.classList.add("td--fixed")}))),y(this.table,this.form,this.pagination,this),f(this.table,this.form,this),g(this.table,this.form)}this.shadowRoot.querySelector(".table__wrapper").addEventListener("scroll",(t=>{this.table.querySelector("dialog[open]")&&(this.table.querySelector("dialog[open]").close(),this.table.querySelector(".dialog__wrapper > button.active").classList.remove("active"))}))}static get observedAttributes(){return["data-total","data-page","data-show"]}attributeChangedCallback(t,e,a){switch(this.pagination=this.shadowRoot.querySelector("iam-pagination"),t){case"data-total":e!=a&&this.pagination.setAttribute("data-total",a);break;case"data-show":e!=a&&this.pagination.setAttribute("data-show",a);break;case"data-page":e!=a&&this.pagination.setAttribute("data-page",a)}}}window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"customElementRegistered",element:"Card"});class E extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.querySelector('[class*="fa-"]')&&this.classList.add("card--has-icon");var t=this.classList.toString(),e=document.body.hasAttribute("data-assets-location")?document.body.getAttribute("data-assets-location"):"/assets",a=document.body.hasAttribute("data-core-css")?document.body.getAttribute("data-core-css"):"".concat(e,"/css/core.min.css"),r='@import "'.concat(e,'/css/components/card.css";'),o='@import "'.concat(e,'/css/components/card.global.css";'),n=document.createElement("template");n.innerHTML='\n    <style>\n    @import "'.concat(a,'";\n    ').concat(r,"\n    ").concat(this.hasAttribute("css")?'@import "'.concat(this.getAttribute("css"),'";'):"",'\n    </style>\n    <link rel="stylesheet" href="https://kit.fontawesome.com/26fdbf0179.css" crossorigin="anonymous">\n    <div class="card ').concat(t,'" tabindex="0" part="card">\n      ').concat(this.hasAttribute("data-image")?'<div class="card__head"><img src="'.concat(this.getAttribute("data-image"),'" alt="" loading="lazy" /><div class="card__badges"><slot name="badges"></slot></div></div>'):"",'\n      <div class="card__body">\n      ').concat(this.hasAttribute("data-image")?"":'<div class="card__badges"><slot name="badges"></slot></div>',"\n      ").concat(this.hasAttribute("data-illustration")?'<div class="card__illustration"><img src="'.concat(this.getAttribute("data-illustration"),'" alt="" loading="lazy" /></div>'):"","\n        <slot></slot>\n      ").concat(this.hasAttribute("data-total")?'<div class="card__total">'.concat(this.getAttribute("data-total"),"</div>"):"","\n      </div>\n      ").concat(this.hasAttribute("data-add-link")?'<button class="btn btn-compact btn-secondary fa-plus">Add property</button>':"",'\n      <slot name="checkbox"></slot>\n      <div class="card__footer">\n        <slot name="footer"></slot>\n        ').concat(this.hasAttribute("data-cta")?'<span class="link d-inline-block pt-0 mb-0">'.concat(this.getAttribute("data-cta"),"</span>"):"","\n      </div>\n    </div>\n    "),this.shadowRoot.appendChild(n.content.cloneNode(!0)),document.getElementById("cardGlobal")||document.head.insertAdjacentHTML("beforeend",'<style id="cardGlobal">'.concat(o,"</style>"))}connectedCallback(){this.classList.add("loaded");var t=this.parentNode.closest("a, button, label"),e=this.shadowRoot.querySelector(".card"),a=this.shadowRoot.querySelector(".btn-compact");if(t.setAttribute("tabindex","-1"),t.matches("label[for]")&&(document.getElementById(t.getAttribute("for")).checked?e.classList.add("checked"):e.classList.remove("checked")),this.addEventListener("click",(t=>{var a=new Event("click");e.dispatchEvent(a)})),e.addEventListener("click",(a=>{if(t.matches("label[for]")){a.stopPropagation(),a.preventDefault();var r=document.getElementById(t.getAttribute("for")),o=r.getAttribute("name"),n=r.getAttribute("id");Array.from(document.querySelectorAll('[name="'.concat(o,'"][type="radio"]:not([id="').concat(n,'"])'))).forEach(((t,e)=>{document.querySelector('[for="'.concat(t.getAttribute("id"),'"] iam-card')).dispatchEvent(new Event("inactive"))})),t.click(),r.checked?e.classList.add("checked"):e.classList.remove("checked")}})),this.addEventListener("inactive",(t=>{e.classList.remove("checked")})),e.addEventListener("keydown",(a=>{switch(a.keyCode){case 32:case 13:if(t.matches("label[for]")){a.stopPropagation(),a.preventDefault();var r=document.getElementById(t.getAttribute("for")),o=r.getAttribute("name"),n=r.getAttribute("id");Array.from(document.querySelectorAll('[name="'.concat(o,'"]:not([id="').concat(n,'"])'))).forEach(((t,e)=>{document.querySelector('[for="'.concat(t.getAttribute("id"),'"] iam-card')).dispatchEvent(new Event("inactive"))})),t.click(),r.checked?e.classList.add("checked"):e.classList.remove("checked")}else t.click()}})),a){var r=this.getAttribute("data-add-link");a.addEventListener("click",(t=>{t.stopPropagation(),t.preventDefault(),window.location=r}))}}static get observedAttributes(){return["data-total","class"]}attributeChangedCallback(t,e,a){switch(t){case"data-total":this.shadowRoot.querySelector(".card__total")&&(this.shadowRoot.querySelector(".card__total").innerHTML=a);break;case"class":var r=this.classList.toString();this.querySelector('[class*="fa-"]')&&(r+=" card--has-icon"),this.shadowRoot.querySelector(".card").setAttribute("class","card ".concat(r))}}}window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"customElementRegistered",element:"Applied Filters"});class S extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"});var t=document.body.hasAttribute("data-assets-location")?document.body.getAttribute("data-assets-location"):"/assets",e=document.body.hasAttribute("data-core-css")?document.body.getAttribute("data-core-css"):"".concat(t,"/css/core.min.css"),a='@import "'.concat(t,'/css/components/applied-filters.css";'),r=this.classList.toString(),o=document.createElement("template");o.innerHTML='\n    <style>\n    @import "'.concat(e,'";\n    ').concat(a,"\n    ").concat(this.hasAttribute("css")?'@import "'.concat(this.getAttribute("css"),'";'):"",'\n    </style>\n    <div class="applied-filters ').concat(r,'"></div>\n    <slot></slot>\n    '),this.shadowRoot.appendChild(o.content.cloneNode(!0))}connectedCallback(){!function(t,e){function a(t,e){var a=!1,r=e.getAttribute("name");r.includes("[]")&&(r=r.replace("[]","[".concat(e.value,"]")));var o=t.querySelector('[data-name="'.concat(r,'"]'));o&&"checkbox"==e.getAttribute("type")&&(a=!e.checked);var n=e.getAttribute("data-filter-text");if(o||(o=document.createElement("button"),t.appendChild(o)),o.setAttribute("type","button"),o.classList.add("filter"),o.setAttribute("data-name",r),o.innerHTML=n.replace("$value",e.value),(!e.value||a)&&o.remove(),e.parentNode.closest("[data-filter-text]")){var s=e.parentNode.closest("[data-filter-text]"),i=!0;if(r="",s.querySelectorAll("input").forEach(((e,a)=>{var o=e.getAttribute("name");if(r+="".concat(0!=a?",":"").concat(o),t.querySelector('[data-name="'.concat(o,'"]'))&&t.querySelector('[data-name="'.concat(o,'"]')).remove(),e.value){var s=document.createElement("button");s.setAttribute("type","button"),s.classList.add("filter"),s.setAttribute("data-name",o),s.innerHTML=n.replace("$value",e.value),t.appendChild(s)}else i=!1})),t.querySelector('[data-name="'.concat(r,'"]'))&&t.querySelector('[data-name="'.concat(r,'"]')).remove(),i){var c=s.getAttribute("data-filter-text");s.querySelectorAll("input").forEach(((e,a)=>{var r=e.getAttribute("name");t.querySelector('[data-name="'.concat(r,'"]'))&&t.querySelector('[data-name="'.concat(r,'"]')).remove(),c=c.replace("$".concat(a+1),e.value)}));var l=document.createElement("button");l.setAttribute("type","button"),l.classList.add("filter"),l.setAttribute("data-name",r),l.innerHTML=c,t.appendChild(l)}}}Array.from(t.querySelectorAll('input[type="checkbox"]:checked')).forEach(((t,r)=>{a(e,t)})),Array.from(t.querySelectorAll("input[data-filter-text]")).forEach(((t,r)=>{t.addEventListener("change",(function(r){a(e,t),r.stopPropagation()}))})),t.addEventListener("change",(function(t){if(t&&t.target instanceof HTMLElement&&t.target.closest("input[data-filter-text]")){var r=t.target.closest("input[data-filter-text]");a(e,r)}})),e.addEventListener("click",(function(e){if(e&&e.target instanceof HTMLElement&&e.target.closest(".filter")){for(var a=e.target.closest(".filter"),r=a.getAttribute("data-name").split(","),o=0;o<r.length;o++){var n=r[o],s='[name="'.concat(n,'"]');if(n.match(/\[(.*)\]/)){n.replace(/\[(.*)\]/,"[]");var i=n.replace(/.*\[(.*)\]/,"$1");s='[value="'.concat(i,'"]')}for(var c=t.querySelectorAll(s),l=0;l<c.length;l++){var d=c[l];"radio"!=d.getAttribute("type")&&"checkbox"!=d.getAttribute("type")?d.value="":(d.checked=!1,e=new Event("force"),t.hasAttribute("data-nosubmit")||d.closest("form").dispatchEvent(e))}}a.remove()}}),!1)}(this,this.shadowRoot.querySelector(".applied-filters"))}}class q extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"});var t=document.body.hasAttribute("data-assets-location")?document.body.getAttribute("data-assets-location"):"/assets",e=document.body.hasAttribute("data-core-css")?document.body.getAttribute("data-core-css"):"".concat(t,"/css/core.min.css"),a='@import "'.concat(t,'/css/components/pagination.css";'),r=document.createElement("template");r.innerHTML='\n    <style>\n    @import "'.concat(e,'";\n    ').concat(a,"\n    \n    ").concat(this.hasAttribute("css")?'@import "'.concat(this.getAttribute("css"),'";'):"",'\n    </style>\n    <link rel="stylesheet" href="https://kit.fontawesome.com/26fdbf0179.css" crossorigin="anonymous">\n    <div class="pagination d-none">\n  \n      <div class="minimal" part="minimal">\n        <div class="page-jump">\n          <div><select class="select--minimal"></select></div>\n          <span class="total-pages"></span>\n        </div>\n        \n        <button class="prev" disabled>Prev</button>\n        <button class="next" disabled>Next</button>\n      </div>\n\n      <div class="item-count" part="item-count"></div>\n      <div class="per-page" part="per-page">\n        <div>\n          <select class="select--minimal">\n            <option value="15">15</option>\n            <option value="25">25</option>\n            <option value="40">40</option>\n            <option value="50">50</option>\n          </select>\n        </div>\n        <span> / page</span>\n      </div>\n      <div class="mobile-controls m-auto text-center">\n        <i class="fa-solid fa-spinner fa-spin"></i>\n        <button class="load-more btn btn-primary m-auto">Load more</a>\n      </div>\n    </div>\n    '),this.shadowRoot.appendChild(r.content.cloneNode(!0))}connectedCallback(){var t=new URLSearchParams(window.location.search);this.hasAttribute("data-total")||this.setAttribute("data-total",15),this.hasAttribute("data-page")||this.setAttribute("data-page",t.has("page")?t.get("page"):1),this.hasAttribute("data-show")||this.setAttribute("data-show",t.has("show")?t.get("show"):15),this.hasAttribute("data-increment")||this.setAttribute("data-increment",this.getAttribute("data-show"));var e=this.shadowRoot.querySelector(".page-jump select"),a=this.shadowRoot.querySelector(".prev"),r=this.shadowRoot.querySelector(".next"),o=this.shadowRoot.querySelector(".per-page select"),n=this.shadowRoot.querySelector(".load-more");this.setup(),e.addEventListener("change",(t=>{this.setAttribute("data-show",this.getAttribute("data-increment")),this.setAttribute("data-page",t.target.value)})),r.addEventListener("click",(t=>{e.value=parseInt(e.value)+1,e.dispatchEvent(new Event("change"))})),a.addEventListener("click",(t=>{e.value=parseInt(e.value)-1,e.dispatchEvent(new Event("change"))})),o.addEventListener("change",(t=>{this.setAttribute("data-increment",t.target.value)})),n.addEventListener("click",(t=>{var e=parseInt(this.getAttribute("data-show"))+parseInt(this.getAttribute("data-increment"));this.setAttribute("data-show",e),e>parseInt(this.getAttribute("data-total"))&&n.remove()}))}setup(){var t=this.shadowRoot.querySelector(".pagination"),e=this.shadowRoot.querySelector(".page-jump select"),a=this.shadowRoot.querySelector(".prev"),r=this.shadowRoot.querySelector(".next"),o=this.shadowRoot.querySelector(".item-count"),n=this.shadowRoot.querySelector(".per-page select"),s=this.shadowRoot.querySelector(".total-pages"),i=parseInt(this.getAttribute("data-page")),c=parseInt(this.getAttribute("data-total")),l=parseInt(this.getAttribute("data-show")),d=parseInt(this.getAttribute("data-increment")),u=Math.ceil(c/d);c>l&&t.classList.remove("d-none");for(var h="",m=1;m<=u;m++)h+='<option value="'.concat(m,'" ').concat(m==i?"selected":"",">").concat(m,"</option>");e.innerHTML=h,s.innerHTML="of ".concat(u),i==u?r.setAttribute("disabled","disabled"):r.removeAttribute("disabled"),1==i?a.setAttribute("disabled","disabled"):a.removeAttribute("disabled");var p=1==i?1:(i-1)*l+1,b=1==i?l:i*l;o.innerHTML="".concat(p," - ").concat(b>c?c:b," of ").concat(c," items"),d&&n.value!=d&&![15,25,40,50].includes(d)&&(n.innerHTML='<option value="'.concat(d,'">').concat(d,'</option>\n      <option value="').concat(2*d,'">').concat(2*d,'</option>\n      <option value="').concat(3*d,'">').concat(3*d,'</option>\n      <option value="').concat(4*d,'">').concat(4*d,"</option>")),n.value=d}static get observedAttributes(){return["data-total","data-increment","data-page","data-show"]}attributeChangedCallback(t,e,a){switch(t){case"data-total":e!=a&&(this.setAttribute("data-page",1),this.setup());break;case"data-show":e!=a&&(this.setAttribute("data-page",1),this.setup(),this.dispatchEvent(new CustomEvent("update-show",{detail:{show:a}})));break;case"data-increment":e!=a&&(this.setAttribute("data-show",a),this.setAttribute("data-page",1),this.setup(),this.dispatchEvent(new CustomEvent("update-show",{detail:{show:a}})));break;case"data-page":e&&e!=a&&(this.setup(),this.dispatchEvent(new CustomEvent("update-page",{detail:{page:a}})))}}}var k=function(t,e){Array.from(t.querySelectorAll(":scope > li")).forEach(((t,a)=>{var r=t.textContent.toLowerCase();t.classList.add("d-none"),r.includes(e.toLowerCase())&&t.classList.remove("d-none")})),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"Filtered list",value:e})};window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"customElementRegistered",element:"filterlist"});class x extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"});var t=document.body.hasAttribute("data-assets-location")?document.body.getAttribute("data-assets-location"):"/assets",e=document.body.hasAttribute("data-core-css")?document.body.getAttribute("data-core-css"):"".concat(t,"/css/core.min.css"),a=document.createElement("template");a.innerHTML='\n    <style>\n    @import "'.concat(e,'";\n    ').concat(this.hasAttribute("css")?'@import "'.concat(this.getAttribute("css"),'";'):"",'\n    \n    :host {\n      margin-bottom: 1rem;\n      display:block;\n    }\n    :host(.mh-sm){\n      max-height: none!important;\n    }\n    :host(.mh-md){\n      max-height: none!important;\n    }\n    :host(.mh-lg){\n      max-height: none!important;\n    }\n    </style>\n    <div class="form-control__wrapper">\n      <label for="search" class="visually-hidden">Search</label>\n      <span class="suffix" role="presentation"><slot name="icon"></slot></span>\n      <input name="search" id="search" type="text" class="form-control" autocomplete="off" placeholder="Search" />\n    </div>\n    <div class="list__wrapper">\n      <slot></slot>\n    </div>\n    '),this.shadowRoot.appendChild(a.content.cloneNode(!0))}connectedCallback(){var t=this.classList.toString();this.shadowRoot.querySelector(".list__wrapper").setAttribute("class","list__wrapper ".concat(t)),this.querySelector("i.fa-search")||(this.innerHTML+='<i class="fa fa-light fa-search" aria-hidden="true" slot="icon"></i>'),function(t,e){!function(t,e){var a;e.addEventListener("keyup",(r=>{clearTimeout(a),a=setTimeout((function(){k(t,e.value)}),500)})),e.addEventListener("change",(r=>{clearTimeout(a),k(t,e.value)}))}(t,e)}(this.querySelector("ul"),this.shadowRoot.querySelector("#search"))}}function T(t,e){var a,r,o=e;this.pause=function(){window.clearTimeout(a),o-=new Date-r},this.resume=function(){r=new Date,window.clearTimeout(a),a=window.setTimeout(t,o)},this.resume()}var M=function(t){t.classList.add("d-none")};window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"customElementRegistered",element:"Notification"});class _ extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"});var t=document.body.hasAttribute("data-assets-location")?document.body.getAttribute("data-assets-location"):"/assets",e=document.body.hasAttribute("data-core-css")?document.body.getAttribute("data-core-css"):"".concat(t,"/css/core.min.css"),a='@import "'.concat(t,'/css/components/notification.css";'),r='@import "'.concat(t,'/css/components/notification.global.css";'),o=this.querySelectorAll("a,button");Array.from(o).forEach(((t,e)=>{t.setAttribute("slot","btns"),t.classList.add("link")})),(o.length||this.hasAttribute("data-dismiss"))&&this.classList.add("notification--dismissable");var n=document.createElement("template");n.innerHTML='\n    <style>\n    @import "'.concat(e,'";\n    ').concat(a,"\n    ").concat(this.hasAttribute("data-css")?"".concat(this.getAttribute("data-css")):"",'\n    </style>\n\n    <div class="notification">\n      <div class="notification__icon"><slot name="icon"></slot></div>\n      <div class="notification__inner"><div class="notification__text"><slot></slot></div>').concat(o.length?'<div class="notification__btns"><slot name="btns"></slot></div>':"","</div>\n      ").concat(this.hasAttribute("data-dismiss")?'<div class="notification__dismiss"><button data-dismiss-button>Dismiss</button></div>':"","\n    </div>\n    "),this.shadowRoot.appendChild(n.content.cloneNode(!0)),document.getElementById("notificationHolder")||document.head.insertAdjacentHTML("beforeend",'<style id="notificationHolder">'.concat(r,"</style>"))}connectedCallback(){var t=this.shadowRoot.querySelector("[data-dismiss-button]"),e=this.hasAttribute("data-status")?this.getAttribute("data-status"):"white";this.hasAttribute("data-type")?this.classList.add("bg-".concat(e)):this.classList.add("colour-".concat(e));var a=this;if(!this.querySelector("i"))switch(e){case"danger":this.innerHTML+='<i class="fa-solid fa-circle-exclamation" aria-hidden="true" slot="icon"></i>';break;case"warning":this.innerHTML+='<i class="fa-solid fa-triangle-exclamation" aria-hidden="true" slot="icon"></i>';break;case"success":this.innerHTML+='<i class="fa-solid fa-check-circle" aria-hidden="true" slot="icon"></i>';break;default:this.innerHTML+='<i class="fa-solid fa-circle-info" aria-hidden="true" slot="icon"></i>'}(function(t){if(t.hasAttribute("data-type")&&"toast"==t.getAttribute("data-type")){var e=document.querySelector(".notification__holder");e||((e=document.createElement("div")).classList.add("notification__holder"),e.classList.add("container"),document.querySelector("body").appendChild(e)),t.closest(".notification__holder")||e.appendChild(t)}if(t.setAttribute("role","alert"),t.addEventListener("click",(function(e){event&&event.target instanceof HTMLElement&&event.target.closest("[data-dismiss-button]")&&(e.preventDefault(),M(t))}),!1),t.hasAttribute("data-timeout")){var a=new T((function(){M(t)}),t.getAttribute("data-timeout"));t.addEventListener("mouseenter",(t=>{a.pause()})),t.addEventListener("mouseleave",(t=>{a.resume()}))}})(a),t&&t.addEventListener("click",(function(t){M(a)}),!1)}}document.addEventListener("DOMContentLoaded",(function(){var t,a;window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"Pageview",pageTitle:document.title}),document.addEventListener("click",(t=>{var e=t.target.closest("[open] summary");if(e)window.dataLayer.push({event:"closeDetails",detailsTitle:e.textContent||""});else{var a=t.target.closest("summary"),r=t.target.closest("a"),o=t.target.closest("button");a&&window.dataLayer.push({event:"openDetails",detailsTitle:a.textContent||""}),r&&window.dataLayer.push({event:"linkClicked",linkText:r.hasAttribute("title")?r.getAttribute("title")||"":r.textContent||"",class:r.hasAttribute("class")&&r.getAttribute("class")||"",href:r.getAttribute("href")||""}),o&&window.dataLayer.push({event:"buttonClicked",buttonText:o.textContent||"",class:o.hasAttribute("class")&&o.getAttribute("class")||""})}})),(a=document.body).classList.add("js-enabled"),(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0)&&a.classList.add("ie"),t=function(t){var e=document.querySelector('label[for="'.concat(t.replace("#",""),'"]')),a=document.querySelector(t+" summary"),r=document.querySelector("dialog".concat(t)),o=document.querySelector("detail".concat(t));e instanceof HTMLElement?e.click():a instanceof HTMLElement?a.click():r instanceof HTMLElement?r.showModal():o instanceof HTMLElement&&o.addAttribute("open")},location.hash&&t(location.hash),window.addEventListener("hashchange",(function(){t(location.hash)}),!1),addEventListener("popstate",(t=>{if(t&&t.state&&t.state.type&&"pagination"==t.state.type){var e=document.querySelector("#".concat(t.state.form)),a=document.querySelector("#".concat(t.state.form," [data-pagination]"));a?a.value=t.state.page:e.innerHTML+='<input name="page" type="hidden" data-pagination="true" value="'.concat(t.state.page,'" />'),e.dispatchEvent(new Event("submit"))}})),document.addEventListener("submit",(t=>{if(t&&t.target instanceof HTMLElement&&t.target.matches("form")){var e=t.target;Array.from(e.querySelectorAll("[data-password-type]")).forEach(((t,e)=>{t.setAttribute("type","password")})),(e.querySelector(":invalid")||e.querySelector('.pwd-checker[data-strength="1"]')||e.querySelector('.pwd-checker[data-strength="2"]'))&&(e.classList.add("was-validated"),t.preventDefault())}})),document.addEventListener("keydown",(t=>{"Escape"===t.key&&document.querySelector(".dialog--transactional[open], .dialog--acknowledgement[open]")&&(t.preventDefault(),t.stopPropagation())})),(t=>{Array.from(t.querySelectorAll("dialog[open]")).forEach(((t,e)=>{t.closest(".dialog__wrapper")||(t.removeAttribute("open"),t.showModal(),t.focus(),r(t))})),t.addEventListener("click",(t=>{if("IAM-ACTIONBAR"==t.target.tagName)return!1;if(t&&t.target instanceof HTMLElement&&t.target.closest("[data-modal]")){var e=t.target.closest("[data-modal]"),a=e.hasAttribute("data-modal")?e.getAttribute("data-modal"):e.getAttribute("data-filter"),o=document.querySelector("dialog#".concat(a));r(o),o.showModal(),o.focus();var n=o.offsetWidth;o.setAttribute("style","max-width: ".concat(n,"px;")),Array.from(o.querySelectorAll("[data-duplicate]")).forEach(((t,e)=>{var a=t.getAttribute("data-duplicate"),r=document.getElementById(a);if(t.checked!=r.checked){t.checked=r.checked;var o=new Event("change");t.dispatchEvent(o)}})),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"openModal",id:a})}if(t&&t.target instanceof HTMLElement&&t.target.closest("button.dialog__close")){var s=t.target.closest("dialog[open]");t.preventDefault(),s.close(),Array.from(document.querySelectorAll(".dialog__wrapper > button")).forEach(((t,e)=>{t.classList.remove("active")})),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"closeModal",id:s.getAttribute("id")})}if(t&&t.target instanceof HTMLElement&&t.target.closest('button[formmethod="dialog"]')){var i=t.target.closest("dialog[open]");Array.from(document.querySelectorAll(".dialog__wrapper > button")).forEach(((t,e)=>{t.classList.remove("active")})),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"closeModal",id:i.getAttribute("id")})}if(t&&t.target instanceof HTMLElement&&t.target.closest("dialog[open]")){var c=t.target.closest("dialog[open]");if("contents"===window.getComputedStyle(c).display&&(c=c.parentNode.closest("dialog[open]")),!c.classList.contains("dialog--transactional")&&!c.classList.contains("dialog--acknowledgement")){var l=c.getBoundingClientRect();(t.clientX<l.left||t.clientX>l.right||t.clientY<l.top||t.clientY>l.bottom)&&(t.target.closest('input[type="radio"]')||c.close(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"closeModal",id:c.getAttribute("id")}))}}if(t&&t.target instanceof HTMLElement&&t.target.closest(".dialog__wrapper > button")){t.stopPropagation();var d=t.target.closest(".dialog__wrapper > button"),u="openPopover",h=t.target.closest(".dialog__wrapper > button").parentNode.querySelector(":scope > dialog");if(document.querySelector("*:not([data-keep-open]) > dialog[open]")&&document.querySelector("*:not([data-keep-open]) > dialog[open]")!=h&&document.querySelector("*:not([data-keep-open]) > dialog[open]").close(),Array.from(document.querySelectorAll(".dialog__wrapper > button")).forEach(((t,e)=>{t.removeAttribute("aria-expanded")})),h.hasAttribute("open"))h.close(),u="closePopover",h.removeAttribute("style"),d.removeAttribute("aria-expanded");else{h.show(),d.setAttribute("aria-expanded",!0);var m=d.getBoundingClientRect(),p=m.top,b=m.left;if(d.closest("iam-table")){var f=d.closest("iam-table").parentNode.getBoundingClientRect();p-=f.top,b-=f.left}h.classList.contains("dialog--fix")&&h.setAttribute("style","position:fixed;top: ".concat(p,"px; left: ").concat(b,"px; margin: 3rem 0 0 0;"))}var g=h.getBoundingClientRect();if(g.bottom-window.scrollY>window.innerHeight-window.scrollY){var y=h.hasAttribute("style")?h.getAttribute("style")+" ":"";h.setAttribute("style",y+"transform: translate(0, calc(-100% - 4rem))"),(g=h.getBoundingClientRect()).top-window.scrollY<100&&h.removeAttribute("style")}window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:u,id:d.textContent})}t&&t.target instanceof HTMLElement&&!t.target.closest("dialog[open]")&&!t.target.closest(".dialog__wrapper > button")&&(document.querySelector(".dialog__wrapper:not([data-keep-open]) > dialog[open]")&&document.querySelector(".dialog__wrapper:not([data-keep-open]) > dialog[open]").close(),Array.from(document.querySelectorAll(".dialog__wrapper:not([data-keep-open]) > button")).forEach(((t,e)=>{t.removeAttribute("aria-expanded")})))}))})(document.body),s(document.body),window.customElements.get("iam-header")||window.customElements.define("iam-header",d),window.customElements.get("iam-accordion")||window.customElements.define("iam-accordion",u),window.customElements.get("iam-tabs")||window.customElements.define("iam-tabs",h),window.customElements.get("iam-table")||window.customElements.define("iam-table",L),window.customElements.get("iam-card")||window.customElements.define("iam-card",E),window.customElements.get("iam-filterlist")||window.customElements.define("iam-filterlist",x),window.customElements.get("iam-pagination")||window.customElements.define("iam-pagination",q),window.customElements.get("iam-applied-filters")||window.customElements.define("iam-applied-filters",S),window.customElements.get("iam-notification")||window.customElements.define("iam-notification",_),Array.from(document.querySelectorAll(".nav")).forEach((t=>{(t=>{Array.from(t.querySelectorAll("details")).forEach(((t,e)=>{t.addEventListener("mouseenter",(function(e){window.matchMedia("(min-width: 62em)").matches&&t.setAttribute("open","true")}),!1),t.addEventListener("mouseleave",(function(e){window.matchMedia("(min-width: 62em)").matches&&t.removeAttribute("open")}),!1)})),"IntersectionObserver"in window&&new IntersectionObserver((t=>{var[e]=t;return e.target.classList.toggle("is-stuck",e.intersectionRatio<1)}),{threshold:[1]}).observe(t)})(t)})),Array.from(document.querySelectorAll(".testimonial")).forEach((t=>{!function(t){var e,a=t.querySelector(".testimonial__images"),r=a.querySelectorAll("img").length;if(1==r)return!1;t.classList.add("testimonial--multi"),a.addEventListener("scroll",(function(o){clearTimeout(e),e=setTimeout((function(){var e=a.scrollWidth,o=a.scrollHeight,n=a.scrollLeft,s=a.scrollTop,i=Math.round(n/e*r)+1;0==n&&0!=s&&(i=Math.round(s/o*r)+1),t.setAttribute("data-show",i),function(e){var a=t.querySelector(".btn-next"),o=t.querySelector(".btn-prev");a.setAttribute("data-go",e+1),o.setAttribute("data-go",e-1),a.removeAttribute("disabled"),o.removeAttribute("disabled"),1==e?o.setAttribute("disabled",!0):e==r&&a.setAttribute("disabled",!0)}(i)}),300)}),!1),t.addEventListener("click",(function(t){for(var e=t.target;e&&e!=this;e=e.parentNode)if(e.matches("[data-go]")){var o=parseInt(e.getAttribute("data-go")),n=0,s=0,i=a.scrollWidth,c=a.scrollHeight;i>c?s=Math.floor(i*((o-1)/r)):n=Math.floor(c*((o-1)/r)),a.scroll({top:n,left:s,behavior:"smooth"});break}}),!1)}(t)})),Array.from(document.querySelectorAll(".carousel")).forEach((t=>{!function(t,e){var a,r=t.querySelector(".carousel__inner"),o=t.querySelector(".carousel__controls"),n=e.querySelectorAll(".col").length;r.addEventListener("scroll",(function(o){clearTimeout(a),a=setTimeout((function(){var a=r.clientWidth,o=r.scrollWidth,s=r.scrollLeft,i=Math.round(s/o*n)+1,c=e.querySelector(".col:last-child").offsetLeft+50;r.scrollLeft+a>=c&&(i=n),Array.from(t.querySelectorAll(".carousel__controls button")).forEach(((t,e)=>{t.removeAttribute("aria-current")})),t.querySelector(".control-"+i).setAttribute("aria-current",!0),1==i?t.querySelector(".btn-prev").setAttribute("disabled","disabled"):t.querySelector(".btn-prev").removeAttribute("disabled"),i==n?t.querySelector(".btn-next").setAttribute("disabled","disabled"):t.querySelector(".btn-next").removeAttribute("disabled")}),100)}),!1),o.addEventListener("click",(function(t){for(var a=t.target;a&&a!=this;a=a.parentNode)if("function"==typeof a.matches&&a.matches("button")){t.preventDefault(),Array.from(o.querySelectorAll("button")).forEach(((t,e)=>{t.removeAttribute("aria-current")})),a.setAttribute("aria-current",!0);var n=e.querySelector("*:nth-child(".concat(a.getAttribute("data-slide"),")"));r.scroll({top:0,left:n.offsetLeft,behavior:"smooth"});break}}),!1),t.addEventListener("click",(function(t){for(var e=t.target;e&&e!=this;e=e.parentNode)if("function"==typeof e.matches&&e.matches(".btn-next, .btn-prev")){t.preventDefault();var a=e.classList.contains("btn-prev")?r.scrollLeft-r.clientWidth:r.scrollLeft+r.clientWidth;r.scroll({top:0,left:a,behavior:"smooth"});break}}),!1)}(t)})),Array.from(document.querySelectorAll("form")).forEach((t=>{!function(t){Array.from(t.querySelectorAll("[data-input-range]")).forEach(((t,e)=>{!function(t){t.addEventListener("change",(function(e){var a=parseInt(t.querySelector("[data-min] select,[data-min] input").value),r=parseInt(t.querySelector("[data-max] select,[data-max] input").value);Array.from(t.querySelectorAll("[data-min] input")).forEach(((t,e)=>{t.setAttribute("max",r)})),Array.from(t.querySelectorAll("[data-max] input")).forEach(((t,e)=>{t.setAttribute("min",a)})),Array.from(t.querySelectorAll("[data-min] select option")).forEach(((t,e)=>{parseInt(t.getAttribute("value"))>r?t.classList.add("d-none"):t.classList.remove("d-none")})),Array.from(t.querySelectorAll("[data-max] select option")).forEach(((t,e)=>{parseInt(t.getAttribute("value"))<a?t.classList.add("d-none"):t.classList.remove("d-none")}))}),!1)}(t)})),Array.from(t.querySelectorAll("[data-redirect]")).forEach(((t,e)=>{!function(t){t.addEventListener("change",(function(e){if(t.matches("[data-value-if]")){var a=t.getAttribute("data-redirect"),r=t.getAttribute("data-value-if");t.value==r&&(document.location.href=a)}else typeof t.value<"u"&&(document.location.href=t.value)}),!1)}(t)})),Array.from(t.querySelectorAll(".multiple-file-uploads")).forEach(((t,e)=>{!function(t){var e=t.querySelector(".row").cloneNode(!0),a=t.querySelector("[data-add]");t.addEventListener("click",(function(r){for(var o=r.target;o&&o!=this;o=o.parentNode){if(o.matches("[data-add]")){var n=e.cloneNode(!0);t.insertBefore(n,o),a.matches("[data-maxfiles]")&&Array.from(t.querySelectorAll(":scope > .row")).length>=a.dataset.maxfiles&&a.setAttribute("disabled","disabled");break}if(o.matches("[data-delete]")){o.closest(".row").remove(),a.matches("[data-maxfiles]")&&Array.from(t.querySelectorAll(":scope > .row")).length<a.dataset.maxfiles&&a.removeAttribute("disabled");break}}}),!1)}(t)})),t.addEventListener("change",(function(t){for(var e=t.target;e&&e!=this;e=e.parentNode)if(e.matches('[type="file"][data-filesize]')&&e.files&&e.files[0]){var a=e.dataset.filesize;e.files[0].size>a&&(e.value="",alert("File too large"));break}}),!1),t.addEventListener("change",(function(e){Array.from(t.querySelectorAll("select[data-activeif][data-equals],input[data-activeif][data-equals]")).forEach(((e,a)=>{var r=e.closest("[data-group]")?e.closest("[data-group]"):t,o=e.dataset.activeif,n=e.dataset.equals;r.querySelector('select[data-id="'.concat(o,'"],input[data-id="').concat(o,'"]')).value==n?e.removeAttribute("disabled"):(e.setAttribute("disabled","disabled"),e.value="")})),Array.from(t.querySelectorAll(".form-control__wrapper[data-displayif][data-equals]")).forEach(((e,a)=>{var r=e.closest("[data-group]")?e.closest("[data-group]"):t,o=e.dataset.activeif,n=e.dataset.equals;r.querySelector('select[data-id="'.concat(o,'"],input[data-id="').concat(o,'"]')).value==n?e.classList.remove("d-none"):e.classList.add("d-none")}))}),!1)}(t)})),Array.from(document.querySelectorAll(".youtube-embed")).forEach((t=>{new e(t)})),window.addEventListener("hashchange",(function(){var t=location.hash.replace("#",""),e=document.querySelector('label[for="'.concat(t,'"]'));e instanceof HTMLElement&&e.click()}),!1)}))}));
//# sourceMappingURL=scripts.bundle.min.js.map