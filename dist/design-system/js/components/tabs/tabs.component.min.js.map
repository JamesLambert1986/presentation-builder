{"version":3,"file":"tabs.component.min.js","sources":["../../modules/tabs.js","tabs.component.js"],"sourcesContent":["// @ts-nocheck\nexport const createTabsLinks = function (tabsElement) {\n    const details = tabsElement.querySelectorAll(':scope > details');\n    const detailsORLinks = tabsElement.querySelectorAll(':scope > details, :scope > a');\n    let summaries = tabsElement.querySelectorAll(':scope > details > summary');\n    let tabLinks = tabsElement.querySelector(':scope > .tabs__links');\n    if (tabsElement.shadowRoot && tabsElement.shadowRoot.querySelector('.tabs__links'))\n        tabLinks = tabsElement.shadowRoot.querySelector('.tabs__links');\n    if (!tabLinks) {\n        tabLinks = document.createElement('div');\n        tabLinks.classList.add('tabs__links');\n        let tabLinksWrapper = document.createElement('div');\n        tabLinksWrapper.classList.add('tabs__links__wrapper');\n        tabLinksWrapper.prepend(tabLinks);\n        tabsElement.prepend(tabLinksWrapper);\n    }\n    // Create the tab buttons from the summary titles\n    let tabindex = 0;\n    detailsORLinks.forEach((element, index) => {\n        let button = document.createElement('button');\n        if (element.matches('details')) {\n            let summary = element.querySelector(':scope > summary');\n            let isDisabled = summary.classList.contains('disabled');\n            summary.classList.add('visually-hidden');\n            if (element.hasAttribute('id'))\n                button.setAttribute('data-id', `${element.getAttribute('id')}`);\n            if (element.hasAttribute('open')) {\n                button.setAttribute('aria-pressed', true);\n            }\n            button.innerHTML = `${summary.innerText}`;\n            button.classList.add('link');\n            button.setAttribute('data-index', tabindex);\n            element.setAttribute('tabindex', '-1');\n            if (isDisabled) {\n                button.classList.add('disabled');\n            }\n            tabindex++;\n        }\n        else if (element.matches('a')) {\n            button = element;\n        }\n        button.classList.add('link');\n        tabLinks.appendChild(button);\n    });\n};\nexport const setTabsEventHandlers = function (tabsElement) {\n    let details = tabsElement.querySelectorAll(':scope > details');\n    let summaries = tabsElement.querySelectorAll(':scope > details > summary');\n    let buttons = tabsElement.querySelectorAll(':scope .tabs__links > button');\n    if (tabsElement.shadowRoot)\n        buttons = tabsElement.shadowRoot.querySelectorAll('.tabs__links > button');\n    // Set the on click for the tab buttons, these will open the details box it matches too\n    buttons.forEach((button) => {\n        button.addEventListener(\"click\", (e) => {\n            e.preventDefault();\n            if (button.classList.contains('disabled'))\n                return false;\n            buttons.forEach((buttonLoopItem) => {\n                let buttonPressed = buttonLoopItem == button ? true : false;\n                buttonLoopItem.setAttribute('aria-pressed', buttonPressed);\n            });\n            details.forEach((detail, detailsIndex) => {\n                let detailsOpen = button.getAttribute('data-index') == detailsIndex ? true : false;\n                if (detailsOpen)\n                    detail.setAttribute('open', detailsOpen);\n                else\n                    detail.removeAttribute('open');\n            });\n            // Data layer Open Event\n            window.dataLayer = window.dataLayer || [];\n            window.dataLayer.push({\n                \"event\": \"openTab\",\n                \"tabTitle\": button.textContent\n            });\n        });\n    });\n    // Make sure we dont loose existing summary functionality\n    summaries.forEach((summary, index) => {\n        summary.addEventListener(\"click\", (e) => {\n            e.preventDefault();\n            buttons[index].click();\n        });\n    });\n};\nexport const openFirstTab = function (tabsElement) {\n    if (!tabsElement.querySelector(':scope > details'))\n        return false;\n    let details = tabsElement.querySelectorAll(':scope > details');\n    let buttons = tabsElement.shadowRoot.querySelectorAll('.tabs__links > button');\n    if (location.hash && tabsElement.shadowRoot.querySelector(`.tabs__links [data-id=\"${location.hash.replace('#', '')}\"]`)) {\n        tabsElement.shadowRoot.querySelector(`[data-id=\"${location.hash.replace('#', '')}\"]`).setAttribute('aria-pressed', true);\n        tabsElement.querySelector(`details[id=\"${location.hash.replace('#', '')}\"]`).setAttribute('open', true);\n    }\n    else if (!tabsElement.querySelector(`details[open]`)) {\n        details[0].setAttribute('open', true);\n        buttons[0].setAttribute('aria-pressed', true);\n    }\n};\nconst tabs = function (tabsElement) {\n    createTabsLinks(tabsElement);\n    setTabsEventHandlers(tabsElement);\n    openFirstTab(tabsElement);\n};\nexport default tabs;\n","// @ts-nocheck\nimport tabs from \"../../modules/tabs.js\";\n// Data layer Web component created\nwindow.dataLayer = window.dataLayer || [];\nwindow.dataLayer.push({\n    \"event\": \"customElementRegistered\",\n    \"element\": \"tabs\"\n});\nclass iamTabs extends HTMLElement {\n    constructor() {\n        super();\n        this.attachShadow({ mode: 'open' });\n        const assetLocation = document.body.hasAttribute('data-assets-location') ? document.body.getAttribute('data-assets-location') : '/assets';\n        const coreCSS = document.body.hasAttribute('data-core-css') ? document.body.getAttribute('data-core-css') : `${assetLocation}/css/core.min.css`;\n        const loadCSS = `@import \"${assetLocation}/css/components/tabs.css\";`;\n        const template = document.createElement('template');\n        template.innerHTML = `\r\n    <style>\r\n    @import \"${coreCSS}\";\r\n    ${loadCSS}\r\n\r\n    :host(.admin-panel){\r\n      display: contents!important;\r\n    }\r\n    \r\n    ${this.hasAttribute('css') ? `@import \"${this.getAttribute('css')}\";` : ``}\r\n    </style>\r\n    <div class=\"tabs\">\r\n      <div class=\"tabs__links__wrapper\">\r\n        <div class=\"tabs__links\"></div>\r\n      </div>\r\n      <slot></slot>\r\n    </div>\r\n    `;\n        this.shadowRoot.appendChild(template.content.cloneNode(true));\n    }\n    connectedCallback() {\n        let classList = this.classList.toString().replace('container', '');\n        this.shadowRoot.querySelector('.tabs').setAttribute('class', `tabs ${classList}`);\n        tabs(this);\n    }\n}\nexport default iamTabs;\n"],"names":["createTabsLinks","tabsElement","detailsORLinks","tabLinks","tabLinksWrapper","tabindex","element","index","button","summary","isDisabled","setTabsEventHandlers","details","summaries","buttons","e","buttonLoopItem","buttonPressed","detail","detailsIndex","detailsOpen","openFirstTab","tabs","iamTabs","assetLocation","coreCSS","template","classList"],"mappings":"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"}